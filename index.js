console.log(`/*-------------------------------------------------------------------------------------------*/`);
console.log(`/*                                   Илья Михальчик                                          */`);
console.log(`/*-------------------------------------------------------------------------------------------*/`);
console.log(`/*                                                                                           */`);
console.log(`/*                                    Бот-визитка                                            */`);
console.log(`/*                                                                                           */`);
console.log(`/*-------------------------------------------------------------------------------------------*/`);

process.env.TZ = "Europe/Moscow";
const config = require("./config.json");
const { VK } = require('vk-io');

const vk = new VK({
    token: config.access_token.group,
    lang: "ru",
    pollingGroupId: config.id.group,
    apiMode: "parallel"
});

const { updates } = vk;

console.log("[System] Бот начинает загружать клиентский функционал!");

updates.startPolling();

/*----------------------------------------------------------------------------------------------------------*/
/*                                       Файлы Евентов                                                      */
/*----------------------------------------------------------------------------------------------------------*/

    const messageEvent = require("./events/message")

/*----------------------------------------------------------------------------------------------------------*/
/*                                          Евенты                                                          */
/*----------------------------------------------------------------------------------------------------------*/

    updates.on('message', messageEvent)

/*----------------------------------------------------------------------------------------------------------*/
/*                                          Файлы команд                                                    */
/*----------------------------------------------------------------------------------------------------------*/  

    const infoCommand = require("./commands/info")

/*----------------------------------------------------------------------------------------------------------*/
/*                                              Команды                                                     */
/*----------------------------------------------------------------------------------------------------------*/  

    updates.hear(/^(?:info|инфо|начать)/ig, infoCommand)